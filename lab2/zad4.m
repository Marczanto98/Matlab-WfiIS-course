clear; clc;
pol_pkb = ["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","2090","2480","2800","3240","3830","4230","4350","4430","4660","4700","4890","5490","6260","7340","8460","9940","11990","12510","12730","12900","13220","13480","13640","13320","12710","12730","14100"];
gr_pkb = ["0","0","620","700","790","900","1000","1090","1200","1370","1540","1720","2000","2490","2850","3480","3750","3940","4600","5650","6500","6370","5910","5280","5140","5010","5360","6130","7590","8310","8970","9850","11200","11140","11610","12410","13430","14100","13810","13380","13330","13070","13150","15700","19580","22760","24550","26350","28660","29330","27660","24930","23500","22540","22180","20320","18890","18340","19760"];

h = figure;
axis tight manual 
filename = 'zad4.gif';
for n = 1:numel(pol_pkb)
    tmp = [str2num(pol_pkb(n)),str2num(gr_pkb(n))];
    bar(tmp)
    set(gca, 'xticklabel', ["Poland", "Greece"])
    ylabel("PKB per capita")
    drawnow
    frame = getframe(h);
    im = frame2im(frame);
    [imind,cm] = rgb2ind(im,256);
    if n == 1
        imwrite(imind,cm,filename,'gif', 'Loopcount',inf);
    else
        imwrite(imind,cm,filename,'gif','WriteMode','append');
    end
end